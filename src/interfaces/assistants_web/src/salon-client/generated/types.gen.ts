// This file is auto-generated by @hey-api/openapi-ts

/**
 * A list of previous messages between the user and the model, meant to give the model conversational context for responding to the user's message.
 */
export type ChatMessage = {
  role: ChatRole;
  message?: string | null;
};

export type ChatResponseEvent = {
  event: StreamEvent;
  data: StreamStart | StreamTextGeneration | StreamSearchResults | StreamEnd;
};

/**
 * One of model|user|system to identify who the message is coming from.
 */
export enum ChatRole {
  MODEL = 'model',
  USER = 'user',
  SYSTEM = 'system',
}

export type Citation = {
  /**
   * Eine Erkl√§rung, warum das Zitat relevant ist.
   */
  erklaerung: string;
  /**
   * Der eigentliche Text des Zitats.
   */
  text: string;
  /**
   * Die Zuversichtlichkeit des Modells, dass das Zitat korrekt ist.
   */
  bewertung: number;
};

export type CitationList = {
  /**
   * Eine Liste von Zitaten, die in einem Text gefunden wurden.
   */
  zitate: Array<Citation>;
};

export type Conversation = {
  id: string;
  user_id: string;
  agent_id: string;
  created_at: string;
  updated_at: string;
  title: string;
  messages: Array<Message>;
  description: string | null;
  is_pinned: boolean;
};

export type ConversationWithoutMessages = {
  id: string;
  user_id: string;
  agent_id: string;
  created_at: string;
  updated_at: string;
  title: string;
  description: string | null;
  is_pinned: boolean;
};

export type CreateStudyRequest = {
  name: string;
  description?: string | null;
  is_transcribed?: boolean | null;
};

export type CreateUser = {
  password?: string | null;
  hashed_password?: (Blob | File) | null;
  fullname: string;
  email?: string | null;
};

export type DeleteConversationResponse = unknown;

export type DeleteStudy = unknown;

export type DeleteUser = unknown;

export type GenerateTitleResponse = {
  title: string;
  error?: string | null;
};

export type HTTPValidationError = {
  detail?: Array<ValidationError>;
};

export type Interview = {
  text: string;
  id: string;
  title: string;
  interview_type: string;
  fields?: {
    [key: string]: unknown;
  } | null;
  study_id: string;
};

export type JWTResponse = {
  token: string;
};

export type ListAuthStrategy = {
  strategy: string;
  client_id: string | null;
  authorization_endpoint: string | null;
  pkce_enabled: boolean;
};

export type Login = {
  strategy: string;
  payload?: {
    [key: string]: string;
  } | null;
};

export type Logout = unknown;

export type Message = {
  text: string;
  id: string;
  created_at: string;
  updated_at: string;
  generation_id: string | null;
  position: number;
  is_active: boolean;
  agent: MessageAgent;
};

export enum MessageAgent {
  USER = 'USER',
  CHATBOT = 'CHATBOT',
}

export type SalonChatRequest = {
  agent_id: string;
  message: string;
  chat_history?: Array<ChatMessage> | null;
  conversation_id?: string;
  study_id?: string | null;
  interview_ids?: Array<string> | null;
  interviews?: Array<Interview> | null;
  description?: string | null;
};

export type StreamEnd = {
  message_id?: string | null;
  response_id?: string | null;
  generation_id?: string | null;
  conversation_id?: string | null;
  text: string;
  search_results?: {
    [key: string]: CitationList;
  } | null;
  finish_reason?: string | null;
  chat_history?: Array<ChatMessage> | null;
  error?: string | null;
};

/**
 * Stream Events returned by Salon's chat stream response.
 */
export enum StreamEvent {
  STREAM_START = 'stream-start',
  SEARCH_RESULTS = 'search-results',
  TEXT_GENERATION = 'text-generation',
  STREAM_END = 'stream-end',
}

export type StreamSearchResults = {
  search_results: CitationList;
  interview_id: string;
};

/**
 * Stream start event.
 */
export type StreamStart = {
  generation_id?: string | null;
  conversation_id?: string | null;
};

/**
 * Stream text generation event.
 */
export type StreamTextGeneration = {
  text: string;
};

export type Study = {
  id: string;
  created_at: string;
  updated_at: string;
  name: string;
  is_transcribed?: boolean;
  description?: string | null;
};

export type ToggleConversationPinRequest = {
  is_pinned: boolean;
};

export type UpdateConversationRequest = {
  title?: string | null;
  user_id?: string | null;
  description?: string | null;
};

export type UpdateStudyRequest = {
  name?: string | null;
  description?: string | null;
  is_transcribed?: boolean | null;
};

export type UpdateUser = {
  password?: string | null;
  hashed_password?: (Blob | File) | null;
  fullname?: string | null;
  email?: string | null;
};

export type User = {
  fullname: string;
  email?: string | null;
  id: string;
  created_at: string;
  updated_at: string;
};

export type ValidationError = {
  loc: Array<string | number>;
  msg: string;
  type: string;
};

export type GetStrategiesV1AuthStrategiesGetResponse = Array<ListAuthStrategy>;

export type LoginV1LoginPostData = {
  requestBody: Login;
};

export type LoginV1LoginPostResponse = JWTResponse | null;

export type AuthorizeV1StrategyAuthPostData = {
  code?: string;
  strategy: string;
};

export type AuthorizeV1StrategyAuthPostResponse = JWTResponse;

export type LogoutV1LogoutGetResponse = Logout;

export type ChatStreamV1ChatStreamPostData = {
  requestBody: SalonChatRequest;
};

export type ChatStreamV1ChatStreamPostResponse = Array<ChatResponseEvent>;

export type CreateUserV1UsersPostData = {
  requestBody: CreateUser;
};

export type CreateUserV1UsersPostResponse = User;

export type ListUsersV1UsersGetData = {
  limit?: number;
  offset?: number;
};

export type ListUsersV1UsersGetResponse = Array<User>;

export type GetUserV1UsersUserIdGetData = {
  userId: string;
};

export type GetUserV1UsersUserIdGetResponse = User;

export type UpdateUserV1UsersUserIdPutData = {
  requestBody: UpdateUser;
  userId: string;
};

export type UpdateUserV1UsersUserIdPutResponse = User;

export type DeleteUserV1UsersUserIdDeleteData = {
  userId: string;
};

export type DeleteUserV1UsersUserIdDeleteResponse = DeleteUser;

export type GetConversationV1ConversationsConversationIdGetData = {
  conversationId: string;
};

export type GetConversationV1ConversationsConversationIdGetResponse = Conversation;

export type UpdateConversationV1ConversationsConversationIdPutData = {
  conversationId: string;
  requestBody: UpdateConversationRequest;
};

export type UpdateConversationV1ConversationsConversationIdPutResponse = Conversation;

export type DeleteConversationV1ConversationsConversationIdDeleteData = {
  conversationId: string;
};

export type DeleteConversationV1ConversationsConversationIdDeleteResponse =
  DeleteConversationResponse;

export type ListConversationsV1ConversationsGetData = {
  agentId?: string | null;
  limit?: number;
  offset?: number;
  orderBy?: string | null;
};

export type ListConversationsV1ConversationsGetResponse = Array<ConversationWithoutMessages>;

export type ToggleConversationPinV1ConversationsConversationIdTogglePinPutData = {
  conversationId: string;
  requestBody: ToggleConversationPinRequest;
};

export type ToggleConversationPinV1ConversationsConversationIdTogglePinPutResponse =
  ConversationWithoutMessages;

export type SearchConversationsV1ConversationsSearchGetData = {
  agentId?: string | null;
  limit?: number;
  offset?: number;
  query: string;
};

export type SearchConversationsV1ConversationsSearchGetResponse =
  Array<ConversationWithoutMessages>;

export type GenerateTitleV1ConversationsConversationIdGenerateTitlePostData = {
  conversationId: string;
};

export type GenerateTitleV1ConversationsConversationIdGenerateTitlePostResponse =
  GenerateTitleResponse;

export type CreateStudyV1StudiesPostData = {
  requestBody: CreateStudyRequest;
};

export type CreateStudyV1StudiesPostResponse = Study;

export type ListStudiesV1StudiesGetData = {
  limit?: number;
  offset?: number;
  organizationId?: string | null;
};

export type ListStudiesV1StudiesGetResponse = Array<Study>;

export type GetStudyByIdV1StudiesStudyIdGetData = {
  studyId: string;
};

export type GetStudyByIdV1StudiesStudyIdGetResponse = Study;

export type UpdateStudyV1StudiesStudyIdPutData = {
  requestBody: UpdateStudyRequest;
  studyId: string;
};

export type UpdateStudyV1StudiesStudyIdPutResponse = Study;

export type DeleteStudyV1StudiesStudyIdDeleteData = {
  studyId: string;
};

export type DeleteStudyV1StudiesStudyIdDeleteResponse = DeleteStudy;

export type ListFilesV1StudiesStudyIdInterviewsGetData = {
  studyId: string;
};

export type ListFilesV1StudiesStudyIdInterviewsGetResponse = Array<Interview>;

export type HealthHealthGetResponse = unknown;

export type ApplyMigrationsMigratePostResponse = unknown;

export type $OpenApiTs = {
  '/v1/auth_strategies': {
    get: {
      res: {
        /**
         * Successful Response
         */
        200: Array<ListAuthStrategy>;
      };
    };
  };
  '/v1/login': {
    post: {
      req: LoginV1LoginPostData;
      res: {
        /**
         * Successful Response
         */
        200: JWTResponse | null;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/{strategy}/auth': {
    post: {
      req: AuthorizeV1StrategyAuthPostData;
      res: {
        /**
         * Successful Response
         */
        200: JWTResponse;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/logout': {
    get: {
      res: {
        /**
         * Successful Response
         */
        200: Logout;
      };
    };
  };
  '/v1/chat-stream': {
    post: {
      req: ChatStreamV1ChatStreamPostData;
      res: {
        /**
         * Successful Response
         */
        200: Array<ChatResponseEvent>;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/users': {
    post: {
      req: CreateUserV1UsersPostData;
      res: {
        /**
         * Successful Response
         */
        200: User;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
    get: {
      req: ListUsersV1UsersGetData;
      res: {
        /**
         * Successful Response
         */
        200: Array<User>;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/users/{user_id}': {
    get: {
      req: GetUserV1UsersUserIdGetData;
      res: {
        /**
         * Successful Response
         */
        200: User;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
    put: {
      req: UpdateUserV1UsersUserIdPutData;
      res: {
        /**
         * Successful Response
         */
        200: User;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
    delete: {
      req: DeleteUserV1UsersUserIdDeleteData;
      res: {
        /**
         * Successful Response
         */
        200: DeleteUser;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/conversations/{conversation_id}': {
    get: {
      req: GetConversationV1ConversationsConversationIdGetData;
      res: {
        /**
         * Successful Response
         */
        200: Conversation;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
    put: {
      req: UpdateConversationV1ConversationsConversationIdPutData;
      res: {
        /**
         * Successful Response
         */
        200: Conversation;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
    delete: {
      req: DeleteConversationV1ConversationsConversationIdDeleteData;
      res: {
        /**
         * Successful Response
         */
        200: DeleteConversationResponse;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/conversations': {
    get: {
      req: ListConversationsV1ConversationsGetData;
      res: {
        /**
         * Successful Response
         */
        200: Array<ConversationWithoutMessages>;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/conversations/{conversation_id}/toggle-pin': {
    put: {
      req: ToggleConversationPinV1ConversationsConversationIdTogglePinPutData;
      res: {
        /**
         * Successful Response
         */
        200: ConversationWithoutMessages;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/conversations:search': {
    get: {
      req: SearchConversationsV1ConversationsSearchGetData;
      res: {
        /**
         * Successful Response
         */
        200: Array<ConversationWithoutMessages>;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/conversations/{conversation_id}/generate-title': {
    post: {
      req: GenerateTitleV1ConversationsConversationIdGenerateTitlePostData;
      res: {
        /**
         * Successful Response
         */
        200: GenerateTitleResponse;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/studies': {
    post: {
      req: CreateStudyV1StudiesPostData;
      res: {
        /**
         * Successful Response
         */
        200: Study;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
    get: {
      req: ListStudiesV1StudiesGetData;
      res: {
        /**
         * Successful Response
         */
        200: Array<Study>;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/studies/{study_id}': {
    get: {
      req: GetStudyByIdV1StudiesStudyIdGetData;
      res: {
        /**
         * Successful Response
         */
        200: Study;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
    put: {
      req: UpdateStudyV1StudiesStudyIdPutData;
      res: {
        /**
         * Successful Response
         */
        200: Study;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
    delete: {
      req: DeleteStudyV1StudiesStudyIdDeleteData;
      res: {
        /**
         * Successful Response
         */
        200: DeleteStudy;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/v1/studies/{study_id}/interviews': {
    get: {
      req: ListFilesV1StudiesStudyIdInterviewsGetData;
      res: {
        /**
         * Successful Response
         */
        200: Array<Interview>;
        /**
         * Validation Error
         */
        422: HTTPValidationError;
      };
    };
  };
  '/health': {
    get: {
      res: {
        /**
         * Successful Response
         */
        200: unknown;
      };
    };
  };
  '/migrate': {
    post: {
      res: {
        /**
         * Successful Response
         */
        200: unknown;
      };
    };
  };
};
